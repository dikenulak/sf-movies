(this["webpackJsonpsf-movies"]=this["webpackJsonpsf-movies"]||[]).push([[0],{25:function(e,t,a){"".concat("http://localhost:8000","/api/v1/list");e.exports={baseUrl:"https://sf-movies-backends.herokuapp.com/api/v1/list"}},29:function(e,t,a){e.exports=a.p+"static/media/sanfrancisco.cefb903b.jpg"},35:function(e,t,a){e.exports=a(68)},45:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"locationDataRequest",(function(){return O}));var o=a(0),r=a.n(o),c=a(2),l=a.n(c),i=a(7),s=(a(45),a(6)),u=a(23),m=a(24),d=a(34),p=a(32),f=a(25),v=a(12),h=a.n(v),E=a(26),g=a(27),w=a.n(g),_=function(){var e=Object(E.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",w.a.get(t,{headers:{Accept:"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e,t,a){return{type:t,data:e,value:a}},O=function(e,t,a){return function(n){"GET_LOCATION_DATA"===e&&_("".concat(f.baseUrl)).then((function(a){return n(b(a.data.data,e,t))})),n(b(a,e,t))}},D=function(){var e=new window.google.maps.Map(document.getElementById("map"),{center:{lat:37.7749,lng:-122.4194},zoom:11,mapTypeControl:!1,streetViewControl:!1});window.globalMap=e},T=(a(64),function(e){var t=e.data;return Object(o.useEffect)((function(){0!==t.length&&new Promise((function(e,t){if(window.initMap)return D(),e(window.globalMap);var a=window.document.getElementsByTagName("script")[0];window.initMap=D;var n=window.document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyARID2OkxABdrF45TwzKv1FzKNYkquTWRM","&callback=initMap"),n.async=!0,n.defer=!0,n.onload=function(){return e(window.globalMap)},a.parentNode.insertBefore(n,a)})).then((function(){window.globalMap.setCenter({lat:t[0].latlng.latitude,lng:t[0].latlng.longitude}),function(e){var a=window.google,n=t.filter((function(e){return e.latlng})),o=new a.maps.InfoWindow;n.forEach((function(t,n){var r,c=new a.maps.Marker({position:{lat:t.latlng.latitude,lng:t.latlng.longitude},map:e,class:"hello",iconSize:100});a.maps.event.addListener(c,"click",(r=c,function(){o.setContent(t.locations),o.open(e,r)}))}))}(window.globalMap)}))}),[t.length]),r.a.createElement("div",{id:"map"})}),L=(a(65),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("span",null,"Loading !! Please wait...."))}),j=function(e){var t=e.children,a=e.fetched;return r.a.createElement("div",null,a?t:r.a.createElement(L,null))},k=(a(66),a(33)),N=function(e,t){return Array.from(new Set(e.map((function(e){return e[t]})))).map((function(e){return{label:e,value:"release_year"===t?parseInt(e,10):e}}))},y=(a(67),function(e){var t=e.clear,a=e.data,n=e.onClear;return r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement("div",{className:"side__bar"},r.a.createElement("span",{role:"button",className:"cross",onClick:function(){return n()}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))),r.a.createElement("div",{className:"side__bar__info"},r.a.createElement("div",{className:"side__bar__title"},"Title: ",r.a.createElement("span",null,a[0].title)),r.a.createElement("div",{className:"side__bar__title"}," Release Year: ",r.a.createElement("span",null,a[0].release_year)),r.a.createElement("div",{className:"side__bar__locations"},r.a.createElement("div",null,"Locations:"),function(e,t){var a,n=[],o=new Map,r=Object(k.a)(e);try{for(r.s();!(a=r.n()).done;){var c=a.value;o.has(c[t])||(o.set(c[t],!0),n.push(c))}}catch(l){r.e(l)}finally{r.f()}return n}(a,"locations").map((function(e){return r.a.createElement("div",{className:"side__bar__locations__info",key:e.locations},console.log(e.latlng),e.locations)}))))))}),C=a(31),A=function(e){var t=e.options,a=e.onChange,n=e.getOptionValue,o=e.getOptionLabel,c=e.label,l=e.placeholder,i=e.value;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:""},c),r.a.createElement(C.a,{placeholder:l,options:t,onChange:function(e){return a(e)},getOptionValue:function(e){return n(e)},getOptionLabel:function(e){return o(e)},value:i}))},R=a(29),M=a.n(R),S=function(e){var t=e.actualData,a=e.onReset,n=e.movieTitle,o=e.onDropDownChange;return r.a.createElement("aside",null,r.a.createElement("div",{className:"aside__heading"},r.a.createElement("div",null,r.a.createElement("img",{className:"aside__image",src:M.a,alt:""})),r.a.createElement("span",null,"Places where movies have been filmed in ",r.a.createElement("b",null," San Francisco "))),r.a.createElement(A,{label:"Movie Title",placeholder:"Search by movie title",options:N(t,"title"),getOptionValue:function(e){return e.value},getOptionLabel:function(e){return e.label},onChange:function(e){return o(e.value,"movieTitle")},value:N(t,"title").filter((function(e){return e.value===n}))}),r.a.createElement("span",{className:"aside__reset",onClick:function(){return a()}},"Reset"))},I=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){(0,n.props.locationDataRequest)("GET_LOCATION_DATA")},n.onDropDownChange=function(e,t){var a,o=n.props.locationDataRequest,r=n.state.movieLocation;n.setState((a={},Object(s.a)(a,t,e),Object(s.a)(a,"clear",!1),a)),o("FILTER_BY_TITLE",e,r.actualData)},n.onReset=function(){(0,n.props.locationDataRequest)("RESET_DATA","",n.state.movieLocation.actualData),n.setState({movieTitle:"",movieYear:"",clear:!0})},n.clear=function(){n.setState({clear:!0})},n.state={movieLocation:{data:[],fetched:!1,actualData:[]},movieTitle:"",movieYear:"",clear:!0},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.movieLocation,a=e.movieTitle,n=e.clear,o=t.fetched,c=t.data,l=t.actualData;return r.a.createElement("div",{className:"home"},r.a.createElement(S,{actualData:l,movieTitle:a,onReset:this.onReset,onDropDownChange:this.onDropDownChange}),r.a.createElement(j,{fetched:o},r.a.createElement(T,{data:c})),r.a.createElement(y,{data:c,clear:n,onClear:this.clear}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.movieLocation.data!==e.movieLocationData.data?{movieLocation:e.movieLocationData}:null}}]),a}(r.a.Component),B=Object(i.b)((function(e){return e}),n)(I);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(30),x=a(4),V=a(3),Y={fetched:!1,data:[],actualData:[]},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,a=t.data?t.data:[];switch(t.type){case"GET_LOCATION_DATA":return Object(V.a)(Object(V.a)({},e),{},{actualData:a,data:a,fetched:!!t.data});case"FILTER_BY_TITLE":return Object(V.a)(Object(V.a)({},e),{},{actualData:a,data:t.data.filter((function(e){return e.title===t.value})),fetched:!0});case"RESET_DATA":return Object(V.a)(Object(V.a)({},e),{},{actualData:a,data:a,fetched:!0});default:return Object(V.a)(Object(V.a)({},e),t.data)}},z=Object(x.c)({movieLocationData:q});var W=Object(x.d)(z,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(x.a)(F.a));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:W},r.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.49397fd3.chunk.js.map